#!/bin/bash

user=root
dir=/data/projects/fate

partylist=(10000 9999 8888)
partyiplist=(10.151.0.72 10.152.0.72 10.150.0.72)
servingiplist=(10.151.0.82 10.152.0.82 10.150.0.82)
servingserveriplist=(10.151.0.81 10.152.0.81 10.150.0.81)
# party 1 will host the exchange by default
exchangeip=

# flag if containers are builded by SEEDFate while compatible with original KubeFATE
build=True

buildInfo='{
    "training": {
        "10000": {
            "federation": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_151_federation",
                "build_folder": "./federation",
                "ip": "10.151.0.71",
                "skeleton_subnet": "output_net_151_net0"
            },
            "proxy": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_151_proxy",
                "build_folder": "./proxy",
                "ip": "10.151.0.72",
                "skeleton_subnet": "output_net_151_net0"
            },
            "fateboard": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_151_fateboard",
                "build_folder": "./fateboard",
                "ip": "10.151.0.73",
                "skeleton_subnet": "output_net_151_net0"
            },
            "roll": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_151_roll",
                "build_folder": "./roll",
                "ip": "10.151.0.74",
                "skeleton_subnet": "output_net_151_net0"
            },
            "egg": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_151_egg",
                "build_folder": "./egg",
                "ip": "10.151.0.75",
                "skeleton_subnet": "output_net_151_net0"
            },
            "python": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_151_python",
                "build_folder": "./python",
                "ip": "10.151.0.76",
                "skeleton_subnet": "output_net_151_net0"
            },
            "meta-service": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_151_meta-service",
                "build_folder": "./meta-service",
                "ip": "10.151.0.77",
                "skeleton_subnet": "output_net_151_net0"
            },
            "mysql": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_151_mysql",
                "build_folder": "./mysql",
                "ip": "10.151.0.78",
                "skeleton_subnet": "output_net_151_net0"
            },
            "redis": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_151_redis",
                "build_folder": "./redis",
                "ip": "10.151.0.79",
                "skeleton_subnet": "output_net_151_net0"
            },
            "skeleton_subnets": [
                "output_net_151_net0"
            ]
        },
        "9999": {
            "federation": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_152_federation",
                "build_folder": "./federation",
                "ip": "10.152.0.71",
                "skeleton_subnet": "output_net_152_net0"
            },
            "proxy": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_152_proxy",
                "build_folder": "./proxy",
                "ip": "10.152.0.72",
                "skeleton_subnet": "output_net_152_net0"
            },
            "fateboard": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_152_fateboard",
                "build_folder": "./fateboard",
                "ip": "10.152.0.73",
                "skeleton_subnet": "output_net_152_net0"
            },
            "roll": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_152_roll",
                "build_folder": "./roll",
                "ip": "10.152.0.74",
                "skeleton_subnet": "output_net_152_net0"
            },
            "egg": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_152_egg",
                "build_folder": "./egg",
                "ip": "10.152.0.75",
                "skeleton_subnet": "output_net_152_net0"
            },
            "python": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_152_python",
                "build_folder": "./python",
                "ip": "10.152.0.76",
                "skeleton_subnet": "output_net_152_net0"
            },
            "meta-service": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_152_meta-service",
                "build_folder": "./meta-service",
                "ip": "10.152.0.77",
                "skeleton_subnet": "output_net_152_net0"
            },
            "mysql": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_152_mysql",
                "build_folder": "./mysql",
                "ip": "10.152.0.78",
                "skeleton_subnet": "output_net_152_net0"
            },
            "redis": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_152_redis",
                "build_folder": "./redis",
                "ip": "10.152.0.79",
                "skeleton_subnet": "output_net_152_net0"
            },
            "skeleton_subnets": [
                "output_net_152_net0"
            ]
        },
        "8888": {
            "federation": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_150_federation",
                "build_folder": "./federation",
                "ip": "10.150.0.71",
                "skeleton_subnet": "output_net_150_net0"
            },
            "proxy": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_150_proxy",
                "build_folder": "./proxy",
                "ip": "10.150.0.72",
                "skeleton_subnet": "output_net_150_net0"
            },
            "fateboard": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_150_fateboard",
                "build_folder": "./fateboard",
                "ip": "10.150.0.73",
                "skeleton_subnet": "output_net_150_net0"
            },
            "roll": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_150_roll",
                "build_folder": "./roll",
                "ip": "10.150.0.74",
                "skeleton_subnet": "output_net_150_net0"
            },
            "egg": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_150_egg",
                "build_folder": "./egg",
                "ip": "10.150.0.75",
                "skeleton_subnet": "output_net_150_net0"
            },
            "python": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_150_python",
                "build_folder": "./python",
                "ip": "10.150.0.76",
                "skeleton_subnet": "output_net_150_net0"
            },
            "meta-service": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_150_meta-service",
                "build_folder": "./meta-service",
                "ip": "10.150.0.77",
                "skeleton_subnet": "output_net_150_net0"
            },
            "mysql": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_150_mysql",
                "build_folder": "./mysql",
                "ip": "10.150.0.78",
                "skeleton_subnet": "output_net_150_net0"
            },
            "redis": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_150_redis",
                "build_folder": "./redis",
                "ip": "10.150.0.79",
                "skeleton_subnet": "output_net_150_net0"
            },
            "skeleton_subnets": [
                "output_net_150_net0"
            ]
        }
    },
    "serving": {
        "10000": {
            "redis": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_151_Servingredis",
                "build_folder": "./redis",
                "ip": "10.151.0.80",
                "skeleton_subnet": "output_net_151_net0"
            },
            "serving-server": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_151_Servingserving-server",
                "build_folder": "./serving-server",
                "ip": "10.151.0.81",
                "skeleton_subnet": "output_net_151_net0"
            },
            "serving-proxy": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_151_Servingserving-proxy",
                "build_folder": "./serving-proxy",
                "ip": "10.151.0.82",
                "skeleton_subnet": "output_net_151_net0"
            },
            "skeleton_subnets": [
                "output_net_151_net0"
            ]
        },
        "9999": {
            "redis": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_152_Servingredis",
                "build_folder": "./redis",
                "ip": "10.152.0.80",
                "skeleton_subnet": "output_net_152_net0"
            },
            "serving-server": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_152_Servingserving-server",
                "build_folder": "./serving-server",
                "ip": "10.152.0.81",
                "skeleton_subnet": "output_net_152_net0"
            },
            "serving-proxy": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_152_Servingserving-proxy",
                "build_folder": "./serving-proxy",
                "ip": "10.152.0.82",
                "skeleton_subnet": "output_net_152_net0"
            },
            "skeleton_subnets": [
                "output_net_152_net0"
            ]
        },
        "8888": {
            "redis": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_150_Servingredis",
                "build_folder": "./redis",
                "ip": "10.150.0.80",
                "skeleton_subnet": "output_net_150_net0"
            },
            "serving-server": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_150_Servingserving-server",
                "build_folder": "./serving-server",
                "ip": "10.150.0.81",
                "skeleton_subnet": "output_net_150_net0"
            },
            "serving-proxy": {
                "build_file_path": "/home/seed/Desktop/seed-emulator/examples/basic/A34_SEEDFate_serving/ghost/hnode_150_Servingserving-proxy",
                "build_folder": "./serving-proxy",
                "ip": "10.150.0.82",
                "skeleton_subnet": "output_net_150_net0"
            },
            "skeleton_subnets": [
                "output_net_150_net0"
            ]
        }
    }
}'

